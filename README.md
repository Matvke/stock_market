# stock_market
Миниатюрная модель фондового рынка, где трейдеры совершают сделки, акции меняют свою стоимость, а биржевые механизмы работают как точные часы.
# Структура:
```
stock_market/
├── api/                # <-- API приложения
│   ├── balance.py      # <-- Эндпоинты для методов из balance
│   ├── public.py          # <-- Эндпоинты для методов из public
│   ├── order.py          # <-- Эндпоинты для методов из order 
│   └── admin.py          # <-- Эндпоинты для методов из admin 
├── dao/                # <-- Взаимодействие с бд
│   ├── base.py      # <-- Базовый класс для работы с базой данных
│   ├── dao.py          # <-- Классы для моделей бд, наследуют base
│   └── database.py      # <-- Движок и настройка работы с SQLAlchemy
├── migration/                # <-- Миграции alembic
├── misc/                # <-- Папка с разным
│   ├── enums.py      # <-- Enum-ы 
│   ├── internal_classes.py      # <-- Классы для внутренней бизнес-логики 
│   └── db_models.py      # <-- Модели БД 
├── schemas/                # <-- Pydantic схемы
│   ├── create.py      # <-- Внутренние схемы (для создания и редактирования данных в БД)  
│   ├── request.py      # <-- Схемы запросов к API
│   └── response.py      # <-- Схемы ответов
├── services/                # <-- Методы, которые вызывают эндпоинты
│   ├── balance.py      # <-- Методы для эндпоинтов balance
│   ├── public.py          # <-- Методы для эндпоинтов public
│   ├── order.py          # <-- Методы для эндпоинтов из order 
│   ├── engine.py          # <-- Объявление matching_engine 
│   ├── matching.py          # <-- Основная логика сопоставлений ордеров
│   ├── orderbook.py          # <-- Класс книги ордеров
│   └── admin.py          # <-- Методы для эндпоинтов из admin  
├── tests/                # <-- Тесты
│   ├── confest.py      # <-- Надстройки и факстуры
│   ├── test_api.py          # <-- Тесты эндпоинтов
│   ├── test_engine.py          # <-- Тесты логики сопоставлений
│   └── test_services.py          # <-- Тесты методов
├── dependencies.py     # <-- Зависимости бд, возврат сессии из SessionPool
├── main.py      # <-- Точка входа
├── .env      # <-- Параметры для БД
└── config.py      # <-- Распаковка .env и получение url ДБ

```

Шаблон файла .env

```
DB_HOST=localhost
DB_PORT=5432
DB_NAME=postgres
DB_USER=postgres
DB_PASSWORD=
```